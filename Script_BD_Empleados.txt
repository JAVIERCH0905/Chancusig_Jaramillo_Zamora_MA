CREATE USER EMPLEADOS IDENTIFIED BY EMPLEADOS;
GRANT CONNECT, RESOURCE, UNLIMITED TABLESPACE TO EMPLEADOS;

CREATE TABLE ESPECIALIDAD(
IDE_ESP VARCHAR(10) PRIMARY KEY,
NOM_ESP VARCHAR(50) NOT NULL,
TIT_ESP VARCHAR(10) NOT NULL,
DES_ESP VARCHAR(150));

CREATE TABLE EMPLEADO(
CED_EMP VARCHAR(10) PRIMARY KEY,
NOM_UNO_EMP VARCHAR(12) NOT NULL,
NOM_DOS_EMP VARCHAR(12),
APE_MAT_EMP VARCHAR(12),
APE_PAT_EMP VARCHAR(12) NOT NULL,
FEC_NAC_EMP DATE NOT NULL,
DIR_EMP VARCHAR(20) NOT NULL,
TEL_EMP VARCHAR(10),
COR_EMP VARCHAR(20) NOT NULL UNIQUE,
ESP_PER_EMP REFERENCES ESPECIALIDAD(IDE_ESP));


CREATE TABLE PERFIL(
IDE_PER VARCHAR(10) PRIMARY KEY,
NOM_PER VARCHAR(50) NOT NULL,
CLA_PER VARCHAR(20) NOT NULL,
CED_PER_PER REFERENCES EMPLEADO(CED_EMP));

CREATE TABLE TIPO_ACTIVIDAD(
IDE_TIP VARCHAR(10) PRIMARY KEY,
NOM_TIP VARCHAR(20) NOT NULL,
DES_TIP VARCHAR(50) NOT NULL);

CREATE TABLE ACTIVIDAD(
IDE_ACT VARCHAR(10) PRIMARY KEY,
NOM_ACT VARCHAR(20) NOT NULL,
DES_ACT VARCHAR(50) NOT NULL,
TIP_ACT_PER REFERENCES TIPO_ACTIVIDAD(IDE_TIP));

CREATE TABLE REGISTRO_ACTIVIDAD(
IDE_REG VARCHAR(10) PRIMARY KEY,
ACT_REG VARCHAR(20) NOT NULL,
FEC_INI_REG DATE NOT NULL,
FEC_FIN_REG DATE,
EST_REG VARCHAR(10) CHECK(EST_REG IN('TERMINADO','NO INICIADO','EN PROCESO')),
EMP_INI_REG REFERENCES EMPLEADO(CED_EMP),
EMP_SOL_REG REFERENCES EMPLEADO(CED_EMP));

CREATE TABLE OBSERVACIONES(
IDE_OBS VARCHAR(10) PRIMARY KEY,
DES_OBS VARCHAR(50) NOT NULL,
REG_PER REFERENCES REGISTRO_ACTIVIDAD(IDE_REG));
